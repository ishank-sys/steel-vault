# Environment template for steel-vault
# Copy to `.env` and fill in real values for your environment.
# Lines starting with `#` are comments and ignored by dotenv loaders.

# Database / Prisma
DATABASE_URL="postgresql://user:password@host:5432/dbname?schema=public" # e.g. postgres connection (may include pgbouncer params)
PRISMA_GENERATE_SKIP=0 # optional: set to 1 to skip prisma generate in some CI flows

# NextAuth / App URLs
NEXTAUTH_SECRET=replace_with_a_long_secret_string
NEXTAUTH_URL=http://localhost:3000 # public URL of the app
NEXT_PUBLIC_SITE_URL=http://localhost:3000 # optional public site URL (used to derive NEXTAUTH_URL)
NEXT_PUBLIC_BASE_URL=http://localhost:3000 # used by some client fallback logic

# Builtin admin (development convenience)
BUILTIN_ADMIN_EMAIL=admin@local
BUILTIN_ADMIN_PASSWORD=admin
BUILTIN_ADMIN_NAME=Admin

# Google Cloud Storage (GCS) credentials
# You can either provide full JSON via GOOGLE_APPLICATION_CREDENTIALS_JSON (raw JSON or base64),
# or provide the individual fields below.
GOOGLE_APPLICATION_CREDENTIALS_JSON= # optional: raw JSON string OR base64 encoded JSON
GCS_CREDENTIALS_JSON= # optional: alias for GOOGLE_APPLICATION_CREDENTIALS_JSON
GCS_PROJECT_ID=your-gcs-project-id
GCS_CLIENT_EMAIL=service-account@your-gcs-project.iam.gserviceaccount.com
GCS_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n" # ensure newlines encoded as \n when storing in a single-line env
GCS_PRIVATE_KEY_ID=your-private-key-id
GCS_CLIENT_ID=your-client-id
GCS_CLIENT_X509_CERT_URL=https://www.googleapis.com/robot/v1/metadata/x509/...
GCS_BUCKET=your-gcs-bucket-name
NEXT_PUBLIC_GCS_BUCKET=your-public-gcs-bucket-name # used in some client-side code
DEBUG_GCS= # optional flag (set to '1' or 'true') to enable debug output

# Signed URLs
SIGNED_URL_EXP_MIN=15 # default signed url expiry in minutes

# File upload / worker
JOB_POLL_INTERVAL_MS=2000 # worker poll interval in ms
JOB_POLL_INTERVAL_MS_EXAMPLE=2000

# Client-side upload debug/timeouts (optional)
NEXT_PUBLIC_DEBUG_UPLOAD=0 # set to 1 to enable verbose upload debug in browser
NEXT_PUBLIC_UPLOAD_TIMEOUT_MS=120000 # client upload timeout (ms)

# Email (SMTP)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=465
SMTP_SECURE=true # true when using SMTPS (465)
SMTP_USER=your-smtp-user@example.com
SMTP_PASS=your-smtp-password
SMTP_FROM=no-reply@yourdomain.com

# SendGrid (alternative email sending)
SENDGRID_API_KEY= # optional, if using SendGrid for notify-submittal
SENDGRID_FROM=no-reply@yourdomain.com

# Development / safety scripts
CONFIRM=NO # set to YES to confirm dangerous scripts (e.g., scripts/clear_storage.js)
CLEAR_GCS=false # set to true to enable clearing GCS in scripts/clear_storage.js
CLEAR_DB=false # set to true to enable clearing DB in scripts/clear_storage.js

# Runtime flags / misc
NODE_ENV=development
SV_DB_IPV6_ONLY=0 # optional hint used by env-check

# Security / other
NEXT_PUBLIC_SITE_URL= # optional public URL used in a few places
